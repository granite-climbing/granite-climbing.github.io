# 로컬 개발용 설정 (decap-server 필요)
local_backend: false

# Use DecapBridge classic auth (required)
backend:
  name: git-gateway
  repo: granite-climbing/granite-climbing.github.io
  branch: main
  identity_url: https://auth.decapbridge.com/sites/ece8f802-f88d-46e0-94b9-d927b657f7ad
  gateway_url: https://gateway.decapbridge.com

  # See who did what (optional)
  commit_messages:
    create: Create {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload "{{path}}" - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete "{{path}}" - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

# Better Decap + Bridge logo (optional)
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Add site links in Decap CMS (optional)
site_url: https://granite-climbing.github.io

media_folder: public/images
public_folder: /images

collections:
  # 사이트 설정 (싱글톤)
  - name: settings
    label: 사이트 설정
    files:
      - name: site
        label: 메인 페이지 설정
        file: content/settings/site.md
        fields:
          - { label: 히어로 이미지, name: heroImage, widget: image }
          - { label: 슬로건 1, name: slogan1, widget: string, default: "DREAM to DREAM!" }
          - { label: 슬로건 2, name: slogan2, widget: string, default: "WORK LESS, CLIMB MORE!" }

  # 1. Crag (암장 정보)
  - name: crags
    label: Crag (암장)
    folder: content/crags
    create: true
    slug: "{{slug}}"
    fields:
      - { label: 이름, name: title, widget: string }
      - { label: 메인 이미지 (썸네일), name: thumbnail, widget: image }
      - label: 최소 난이도
        name: difficultyMin
        widget: select
        default: "V0"
        options:
          - { label: "V0", value: "V0" }
          - { label: "V1", value: "V1" }
          - { label: "V2", value: "V2" }
          - { label: "V3", value: "V3" }
          - { label: "V4", value: "V4" }
          - { label: "V5", value: "V5" }
          - { label: "V6", value: "V6" }
          - { label: "V7", value: "V7" }
          - { label: "V8", value: "V8" }
          - { label: "V9", value: "V9" }
          - { label: "V10", value: "V10" }
          - { label: "V11", value: "V11" }
          - { label: "V12", value: "V12" }
          - { label: "V13", value: "V13" }
          - { label: "V14", value: "V14" }
          - { label: "V15", value: "V15" }
          - { label: "V16", value: "V16" }
      - label: 최대 난이도
        name: difficultyMax
        widget: select
        default: "V10"
        options:
          - { label: "V0", value: "V0" }
          - { label: "V1", value: "V1" }
          - { label: "V2", value: "V2" }
          - { label: "V3", value: "V3" }
          - { label: "V4", value: "V4" }
          - { label: "V5", value: "V5" }
          - { label: "V6", value: "V6" }
          - { label: "V7", value: "V7" }
          - { label: "V8", value: "V8" }
          - { label: "V9", value: "V9" }
          - { label: "V10", value: "V10" }
          - { label: "V11", value: "V11" }
          - { label: "V12", value: "V12" }
          - { label: "V13", value: "V13" }
          - { label: "V14", value: "V14" }
          - { label: "V15", value: "V15" }
          - { label: "V16", value: "V16" }
      - { label: 설명, name: description, widget: text, required: false }

  # 1-1. Boulder (볼더) - Crag 하위
  - name: boulders
    label: Boulder (볼더)
    folder: content/boulders
    create: true
    slug: "{{slug}}"
    fields:
      - { label: Slug, name: slug, widget: string }
      - label: 소속 암장 (Crag)
        name: crag
        widget: relation
        collection: crags
        search_fields: [title]
        value_field: slug
        display_fields: [title]
      - { label: 이름, name: title, widget: string }
      - { label: 썸네일 이미지, name: thumbnail, widget: image, required: false }
      - { label: 설명, name: description, widget: text, required: false }

  # 1-2. Topo (토포) - Boulder 하위
  - name: topos
    label: Topo (토포)
    folder: content/topos
    create: true
    slug: "{{slug}}"
    fields:
      - { label: Slug, name: slug, widget: string }
      - label: 소속 볼더 (Boulder)
        name: boulder
        widget: relation
        collection: boulders
        search_fields: [title, crag]
        value_field: slug
        display_fields: [title, crag]
      - { label: 이름, name: title, widget: string }
      - { label: 토포 이미지, name: image, widget: image, required: true, hint: "토포 이미지는 필수입니다" }
      - { label: 설명, name: description, widget: text, required: false }

  # 1-3. Problem (문제) - Topo 하위
  - name: problems
    label: Problem (문제)
    folder: content/problems
    create: true
    slug: "{{slug}}"
    fields:
      - { label: Slug, name: slug, widget: string }
      - label: 소속 토포 (Topo)
        name: topo
        widget: relation
        collection: topos
        search_fields: [title, boulder]
        value_field: slug
        display_fields: [title, boulder]
        hint: "문제가 속한 토포를 선택하세요"
      - { label: 이름, name: title, widget: string }
      - label: 난이도
        name: grade
        widget: select
        default: "V0"
        options:
          - { label: "V0", value: "V0" }
          - { label: "V1", value: "V1" }
          - { label: "V2", value: "V2" }
          - { label: "V3", value: "V3" }
          - { label: "V4", value: "V4" }
          - { label: "V5", value: "V5" }
          - { label: "V6", value: "V6" }
          - { label: "V7", value: "V7" }
          - { label: "V8", value: "V8" }
          - { label: "V9", value: "V9" }
          - { label: "V10", value: "V10" }
          - { label: "V11", value: "V11" }
          - { label: "V12", value: "V12" }
          - { label: "V13", value: "V13" }
          - { label: "V14", value: "V14" }
          - { label: "V15", value: "V15" }
          - { label: "V16", value: "V16" }
      - { label: 해시태그, name: hashtag, widget: string, required: false, hint: "베타 영상 검색용 인스타그램 해시태그 (예: granite_울산천_시작의길)" }
      - { label: "FA (초등자 인스타 ID)", name: fa, widget: string, required: false, hint: "초등자 인스타그램 ID (예: @yeochan6409)" }
      - { label: 문제 이미지, name: image, widget: image, required: false, hint: "문제 이미지는 선택사항입니다" }
      - { label: 설명, name: description, widget: text, required: false }

  # 2. Culture > Trable (여행기)
  - name: trable
    label: Culture - Trable (여행기)
    folder: content/culture/trable
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: 제목, name: title, widget: string }
      - { label: 작성일, name: date, widget: datetime }
      - { label: 썸네일, name: thumbnail, widget: image }
      - { label: 요약, name: excerpt, widget: text, required: false }
      - { label: 본문, name: body, widget: markdown }

  # 3. Culture > Rock Trip (락 트립)
  - name: rocktrip
    label: Culture - Rock Trip (락 트립)
    folder: content/culture/rocktrip
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: 제목, name: title, widget: string }
      - { label: 작성일, name: date, widget: datetime }
      - { label: 썸네일, name: thumbnail, widget: image }
      - { label: 요약, name: excerpt, widget: text, required: false }
      - { label: 본문, name: body, widget: markdown }
